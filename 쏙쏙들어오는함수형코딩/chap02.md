# Chap02. 현실에서의 함수형 사고 

함수형 사고 기술을 통해 두가지 파트로 구분
- part1. 액션과 계산, 데이터 
- part2. 일급 추상 : 타임라인 다이어그램과 일급함수를 사용 

책에서는 피자가게를 예시로 설명 진행

## 파트 1 
- 액션 : 호출 횟수와 시점에 의존적 
  - 반죽 펴기, 피자 배달, 재료 주문 
- 계산 : 어떤 것을 결정하거나 계획하는 것, 실행해도 다른 곳에 영향을 주지 않는다 
  - 조리법에 나온 것을 두배로 만들기, 쇼핑 목록 결정 
- 데이터 : immutable한 데이터를 가능한 많이 사용 
  - 고객 주문, 영수증, 조리법

계층화 설계에 fp 적용 
- 코드 변경에 대한 비용을 줄이기 위해 fp 사고로 코드 구성 
- 변경 가능성에 따라 코드를 분리 
  - 상단은 자주 바뀌는 것, 아래로 갈수록 변경 가능성 없음 

주방 레이어 
- 이번 주 메뉴 (스페셜 메뉴) : 비즈니스 규칙 
- 피자 만들기 (조리법 순서) : 도메인 규칙 
- 자료구조 (자바스크립트) : 기술 스택

창고 레이어 
- 이번 주 사야할 목록 (재료를 어디서 구입할지 결정) : 비즈니스 규칙 
- 재료 목록 (재료 목록에 대한 동작) : 도메인 규칙 
- 자료구조 (자바스크립트) : 기술 스택 

## 파트 2 : 일급 추상 
- 타임라인 다이어그램을 통해 시계열 액션 설명
- 액션은 실행 시점에 의존적이므로, 실행 순서가 중요
- 단일 시스템에선 시계열로 놓여진 모든 액션들을 순서대로 처리해야함 (효율성 낮음) 
- 분산 시스템에선 분산 환경에서 기존의 하나의 타임라인에서 여러 액션들을 분산시켜 동시에 실행 
  - 하지만, 분산 시스템에서의 각각의 타임라인은 서로 액션 순서를 보장할 수 없음 (예측 불가)

분산 시스템에서의 특징 재정리 
- 기본적으로 타임라인은 서로 순서를 맞추지 않음
- 액션이 실행되는 시간은 중요하지 않음
- 드물지만 타이밍이 어긋나는 경우는 실제로 일어남 
- 타임라인 다이어그램으로 시스템의 문제를 알 수 있음 

이 때 **타임라인 커팅**이란 기술을 사용하면 여러 타임라인이 동시에 진행될 때, 서로 순서를 맞출 수 있음 
- 타임 라인은 **고차 동작**으로 구현 
- 각 타임라인은 독립적으로 동작 후 작업 완료시, 다른 타임라인이 끝나기를 기다린다. 
- 커팅 : 타임라인의 시간을 맞추는 작업 
> 고차 동작 : 고차 함수로 만든 동작 


 
